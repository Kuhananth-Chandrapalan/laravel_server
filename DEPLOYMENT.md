# Deployment Guide for CloudPanel

## Quick Deployment Steps

### Option 1: Automated (Recommended)

**Step 1: Upload files to server**
```bash
# From your local machine, make the upload script executable and run it
chmod +x deploy-upload.sh
./deploy-upload.sh
```

**Step 2: Run deployment on server**
```bash
# SSH into your server
ssh bohar@192.168.1.110

# Navigate to project and run deployment script
cd /home/test/htdocs/test.serve
chmod +x deploy.sh
bash deploy.sh
```

### Option 2: Manual Deployment

**Step 1: Upload files manually**
- Use SFTP client (FileZilla, WinSCP, etc.)
- Upload all files to: `/home/test/htdocs/test.serve/`
- Exclude: `vendor/`, `node_modules/`, `.env`, `.git/`

**Step 2: SSH into server and run commands**
```bash
ssh bohar@192.168.1.110
cd /home/test/htdocs/test.serve

# Install dependencies
composer install --no-dev --optimize-autoloader

# Setup environment
cp .env.example .env
php artisan key:generate --force

# Set permissions
chmod -R 775 storage bootstrap/cache
chown -R test:test storage bootstrap/cache

# Run migrations
php artisan migrate --force

# Build assets
npm install
npm run build

# Optimize
php artisan config:cache
php artisan route:cache
php artisan view:cache
```

## Important Configuration

### 1. Update .env file on server
Edit `/home/test/htdocs/test.serve/.env`:
```env
APP_NAME="Your App Name"
APP_ENV=production
APP_KEY=  # Will be generated by key:generate
APP_DEBUG=false
APP_URL=http://test.serve

# Database configuration (if using database)
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=your_database
DB_USERNAME=your_username
DB_PASSWORD=your_password
```

### 2. CloudPanel Settings
- **Domain**: test.serve
- **Root Directory**: test.serve/public ✅ (Already correct)
- **PHP Version**: 8.2 or higher ✅

### 3. File Permissions
Ensure these directories are writable:
- `storage/` - 775
- `bootstrap/cache/` - 775

## Troubleshooting

### Check logs
```bash
tail -f /home/test/htdocs/test.serve/storage/logs/laravel.log
```

### Clear cache if needed
```bash
php artisan cache:clear
php artisan config:clear
php artisan route:clear
php artisan view:clear
```

### Check PHP version
```bash
php -v  # Should be 8.2 or higher
```

### Verify file permissions
```bash
ls -la /home/test/htdocs/test.serve/storage
ls -la /home/test/htdocs/test.serve/bootstrap/cache
```

## Post-Deployment

1. Visit your domain: `http://test.serve`
2. Verify all routes are working
3. Check database connection (if using database)
4. Monitor logs for any errors

